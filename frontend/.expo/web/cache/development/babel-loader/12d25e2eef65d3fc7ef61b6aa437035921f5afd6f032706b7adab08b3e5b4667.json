{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Camera } from \"expo-camera\";\nimport * as FileSystem from \"expo-file-system\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CameraFeature() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasPermission = _useState2[0],\n    setHasPermission = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cameraRef = _useState4[0],\n    setCameraRef = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    photoUri = _useState6[0],\n    setPhotoUri = _useState6[1];\n  var _useState7 = useState(Camera.Constants.Type.back),\n    _useState8 = _slicedToArray(_useState7, 2),\n    type = _useState8[0],\n    setType = _useState8[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Camera$request = yield Camera.requestCameraPermissionsAsync(),\n        status = _yield$Camera$request.status;\n      setHasPermission(status === \"granted\");\n    })();\n  }, []);\n  var handleTakePicture = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (cameraRef) {\n        var photo = yield cameraRef.takePictureAsync();\n        var fileUri = `${FileSystem.documentDirectory}photo_${Date.now()}.jpg`;\n        try {\n          yield FileSystem.moveAsync({\n            from: photo.uri,\n            to: fileUri\n          });\n          console.log(\"Photo saved to:\", fileUri);\n          setPhotoUri(fileUri);\n        } catch (error) {\n          console.error(\"Error saving photo:\", error);\n        }\n      }\n    });\n    return function handleTakePicture() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  if (hasPermission === null) {\n    return _jsx(View, {\n      style: styles.permissionContainer,\n      children: _jsx(Text, {\n        children: \"Requesting Camera Permission\"\n      })\n    });\n  }\n  if (hasPermission === false) {\n    return _jsxs(View, {\n      style: styles.permissionContainer,\n      children: [_jsx(Text, {\n        children: \"No Camera Permission\"\n      }), _jsx(Button, {\n        title: \"Allow Camera\",\n        onPress: _asyncToGenerator(function* () {\n          var _yield$Camera$request2 = yield Camera.requestCameraPermissionsAsync(),\n            status = _yield$Camera$request2.status;\n          setHasPermission(status === \"granted\");\n        })\n      })]\n    });\n  }\n  var toggleCameraType = function toggleCameraType() {\n    setType(type === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back);\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: photoUri ? _jsxs(View, {\n      style: styles.previewContainer,\n      children: [_jsxs(Text, {\n        children: [\"Photo Saved at: \", photoUri]\n      }), _jsx(Image, {\n        source: {\n          uri: photoUri\n        },\n        style: styles.imagePreview\n      }), _jsx(Button, {\n        title: \"Take Another Picture\",\n        onPress: function onPress() {\n          return setPhotoUri(null);\n        }\n      })]\n    }) : _jsx(Camera, {\n      style: styles.camera,\n      type: type,\n      ref: function ref(_ref4) {\n        return setCameraRef(_ref4);\n      },\n      children: _jsxs(View, {\n        style: styles.buttonContainer,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.button,\n          onPress: toggleCameraType,\n          children: _jsx(Text, {\n            style: styles.text,\n            children: \"Flip Camera\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.button,\n          onPress: handleTakePicture,\n          children: _jsx(Text, {\n            style: styles.text,\n            children: \"Take Picture\"\n          })\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  permissionContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  previewContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  camera: {\n    flex: 1\n  },\n  imagePreview: {\n    width: \"100%\",\n    height: 400,\n    marginBottom: 20\n  },\n  buttonContainer: {\n    position: \"absolute\",\n    bottom: 30,\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    width: \"100%\",\n    paddingHorizontal: 20\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: \"#fff\",\n    padding: 15,\n    borderRadius: 8\n  },\n  text: {\n    fontSize: 16,\n    color: \"#000\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","Button","Image","TouchableOpacity","StyleSheet","Camera","FileSystem","jsx","_jsx","jsxs","_jsxs","CameraFeature","_useState","_useState2","_slicedToArray","hasPermission","setHasPermission","_useState3","_useState4","cameraRef","setCameraRef","_useState5","_useState6","photoUri","setPhotoUri","_useState7","Constants","Type","back","_useState8","type","setType","_asyncToGenerator","_yield$Camera$request","requestCameraPermissionsAsync","status","handleTakePicture","_ref2","photo","takePictureAsync","fileUri","documentDirectory","Date","now","moveAsync","from","uri","to","console","log","error","apply","arguments","style","styles","permissionContainer","children","title","onPress","_yield$Camera$request2","toggleCameraType","front","container","previewContainer","source","imagePreview","camera","ref","buttonContainer","button","text","create","flex","justifyContent","alignItems","width","height","marginBottom","position","bottom","flexDirection","paddingHorizontal","backgroundColor","padding","borderRadius","fontSize","color"],"sources":["C:/Users/eveli/OneDrive - Arkansas Tech University/mobile app/frontend/components/CameraFeature.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  Button,\r\n  Image,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n} from \"react-native\";\r\nimport { Camera } from \"expo-camera\";\r\nimport * as FileSystem from \"expo-file-system\";\r\n\r\nexport default function CameraFeature() {\r\n  const [hasPermission, setHasPermission] = useState(null);\r\n  const [cameraRef, setCameraRef] = useState(null);\r\n  const [photoUri, setPhotoUri] = useState(null);\r\n  const [type, setType] = useState(Camera.Constants.Type.back);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { status } = await Camera.requestCameraPermissionsAsync();\r\n      setHasPermission(status === \"granted\");\r\n    })();\r\n  }, []);\r\n\r\n  const handleTakePicture = async () => {\r\n    if (cameraRef) {\r\n      const photo = await cameraRef.takePictureAsync();\r\n      const fileUri = `${FileSystem.documentDirectory}photo_${Date.now()}.jpg`;\r\n\r\n      try {\r\n        await FileSystem.moveAsync({\r\n          from: photo.uri,\r\n          to: fileUri,\r\n        });\r\n        console.log(\"Photo saved to:\", fileUri);\r\n        setPhotoUri(fileUri);\r\n      } catch (error) {\r\n        console.error(\"Error saving photo:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (hasPermission === null) {\r\n    return (\r\n      <View style={styles.permissionContainer}>\r\n        <Text>Requesting Camera Permission</Text>\r\n      </View>\r\n    );\r\n  }\r\n  if (hasPermission === false) {\r\n    return (\r\n      <View style={styles.permissionContainer}>\r\n        <Text>No Camera Permission</Text>\r\n        <Button\r\n          title=\"Allow Camera\"\r\n          onPress={async () => {\r\n            const { status } = await Camera.requestCameraPermissionsAsync();\r\n            setHasPermission(status === \"granted\");\r\n          }}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const toggleCameraType = () => {\r\n    setType(\r\n      type === Camera.Constants.Type.back\r\n        ? Camera.Constants.Type.front\r\n        : Camera.Constants.Type.back\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {photoUri ? (\r\n        <View style={styles.previewContainer}>\r\n          <Text>Photo Saved at: {photoUri}</Text>\r\n          <Image source={{ uri: photoUri }} style={styles.imagePreview} />\r\n          <Button\r\n            title=\"Take Another Picture\"\r\n            onPress={() => setPhotoUri(null)}\r\n          />\r\n        </View>\r\n      ) : (\r\n        <Camera\r\n          style={styles.camera}\r\n          type={type}\r\n          ref={(ref) => setCameraRef(ref)}\r\n        >\r\n          <View style={styles.buttonContainer}>\r\n            <TouchableOpacity style={styles.button} onPress={toggleCameraType}>\r\n              <Text style={styles.text}>Flip Camera</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button} onPress={handleTakePicture}>\r\n              <Text style={styles.text}>Take Picture</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </Camera>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  permissionContainer: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  previewContainer: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  camera: {\r\n    flex: 1,\r\n  },\r\n  imagePreview: {\r\n    width: \"100%\",\r\n    height: 400,\r\n    marginBottom: 20,\r\n  },\r\n  buttonContainer: {\r\n    position: \"absolute\",\r\n    bottom: 30,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-around\",\r\n    width: \"100%\",\r\n    paddingHorizontal: 20,\r\n  },\r\n  button: {\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#fff\",\r\n    padding: 15,\r\n    borderRadius: 8,\r\n  },\r\n  text: {\r\n    fontSize: 16,\r\n    color: \"#000\",\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}